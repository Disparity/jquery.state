/* jQuery state plugin | 0.1.4 | Disparity <disparity-github@yandex.ru> */
(function(b,c){var a={change:function(d,f,e){d.toggleClass(f,e)},is:function(d,e){return d.is("."+e)},parser:function(f,e){var d={};if(typeof f==="string"){b.each(b.grep(f.split(" "),function(g){return b.trim(g)!==""}),function(g,h){d[h]=e})}return d},notificator:function(e,g,f){if(f===c){f=e.isInState(g)}var d=["change.state",(f?"set":"remove")+".state","change.state-"+g,(f?"set":"remove")+".state-"+g];b.each(d,function(h,j){var i=b.Event(j,{state:{name:g,value:f}});i.preventDefault();e.trigger(i)})},processor:function(d,f,e){if(typeof e!=="boolean"&&e!==c){throw {message:"Invalid argumment type"}}if(d.isInState(f)===e){return}this.change(d,f,e);this.notificator(d,f,e)}};b.fn.toggleState=function(d,e){d=a.parser(d,e);return this.each(function(f,g){b.each(d,function(i,h){a.processor(b(g),i,h)})})};b.fn.addState=function(d){return this.toggleState(d,true)};b.fn.removeState=function(d){return this.toggleState(d,false)};b.fn.isInState=function(d){return a.is(this,d)};b.fn.loadStates=function(d){return this.each(function(){var e=b(this);e.addState(e.data(d||"state")||"")})};b.fn.joinByState=function(d){d=a.parser(d);var e=this;b.each(d,function(f){e.bind("set.state-"+f,function(){e.not(this).removeState(f)})});return this};b.fn.state=function(d,e){if(e===c&&!b.isPlainObject(d)){return this.isInState(d)}return this.toggleState(d,e)}})(jQuery);