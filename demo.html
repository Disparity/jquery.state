<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<script src="state.jquery.js"></script>
		<style type="text/css">
			div {
				width: 200px;
				height: 200px;
				display: inline-block;
				background-color: lightgreen;
			}
			div.disabled {
				background-color: lightgray;
			}
			div.clicked {
				background-color: lightskyblue;
			}
		</style>
	</head>
	<body>
		<div class="js-container" id="container-1">TODO write content <button>Click me!</button></div>
		<div class="js-container" id="container-2">TODO write content <button>Click me!</button></div>
		<div class="js-container" id="container-3" data-state="disabled clicked">TODO write content <button>Click me!</button></div>

		<script type="text/javascript">
			$(document).delegate(".js-container", "change.state", function(event) {
				console.log(event.target.id +" " + event.state.name + ": " + (event.state.value || "undefined").toString());
			});

			$(".js-container button").bind("click", function(event) {
				$(this).parent().toggleState("clicked");
				$(".js-container button").not(this).parent().toggleState("disabled");
			});

			$(".js-container").bind("change.state-disabled", function(event) {
				$("button", this).attr("disabled", event.state.value);
			})
			.loadStates();

		</script>
	</body>
</html>
